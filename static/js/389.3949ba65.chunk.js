"use strict";(self.webpackChunkvikkiapp=self.webpackChunkvikkiapp||[]).push([[389],{7271:(e,a,t)=>{t.d(a,{r:()=>i});var r=t(4702),n=t(2481),s=t(276);const o=(0,r.ZF)({apiKey:"AIzaSyBokfEKThRRoikn0hd38SAjRlQSGIEZ6nU",authDomain:"vikkiapp-e25a8.firebaseapp.com",projectId:"vikkiapp-e25a8",storageBucket:"vikkiapp-e25a8.appspot.com",messagingSenderId:"514557526949",appId:"1:514557526949:web:fe891132e8517b27109e4c",measurementId:"G-0YX54ER1NZ"}),i=(0,n.ad)(o);(0,s.cF)(o)},7389:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var r=t(2791),n=t(7689),s=t(1087),o=t(5502),i=t(1848),l=t(184);const d=()=>{const{flashCardId:e}=(0,n.UO)(),a=(0,n.s0)(),{data:{word:t="",translation:d="",picture:c="",phonetic:u="",partOfSpeech:h="",definition:p=""}="",isLoading:m}=(0,o.vy)(null!==e&&void 0!==e?e:i.CN),[g,{isLoading:f}]=(0,o.NB)(),[b,y]=(0,r.useState)(t),[v,x]=(0,r.useState)(d),[w,k]=(0,r.useState)(c),[C,F]=(0,r.useState)(c),[j,N]=(0,r.useState)(c),[S,T]=(0,r.useState)(c);(0,r.useEffect)((()=>{y(t),x(d),k(c),F(u),N(h),T(p)}),[t,d,c,u,h,p]);const q=[b,v,w,C,j,S].every(Boolean)&&!m;return(0,l.jsxs)("div",{children:[(0,l.jsx)(s.rU,{to:"/flashCards",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center mt-5",children:"Back"}),(0,l.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),q){const t={word:b,translation:v,picture:w,phonetic:C,partOfSpeech:j,definition:S};try{await g({flashCardId:e,newData:t}).unwrap(),f||a("/flashCards")}catch(r){console.log("Update flash card is failed: ",r)}}},className:"max-w-sm m-10 mx-auto",children:[(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("label",{htmlFor:"word",className:"block mb-2 text-sm font-medium text-gray-900",children:"Word that you are translating"}),(0,l.jsx)("input",{id:"word",type:"text",name:"word",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"word",value:b,onChange:e=>y(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("label",{htmlFor:"translation",className:"block mb-2 text-sm font-medium text-gray-900",children:"Translation that you need"}),(0,l.jsx)("input",{id:"translation",type:"text",name:"translation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"translation",value:v,onChange:e=>x(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("label",{htmlFor:"image",className:"block mb-2 text-sm font-medium text-gray-900",children:"Image that you need - link format"}),(0,l.jsx)("input",{id:"picture",type:"text",name:"image",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"image",value:w,onChange:e=>k(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("label",{htmlFor:"phonetic",className:"block mb-2 text-sm font-medium text-gray-900",children:"Phonetic"}),(0,l.jsx)("input",{id:"phonetic",type:"text",name:"phonetic",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"phonetic",value:C,onChange:e=>F(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("label",{htmlFor:"partOfSpeech",className:"block mb-2 text-sm font-medium text-gray-900",children:"Part - Of - Speech"}),(0,l.jsx)("input",{id:"partOfSpeech",type:"text",name:"partOfSpeech",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"part of speech",value:j,onChange:e=>N(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("label",{htmlFor:"definition",className:"block mb-2 text-sm font-medium text-gray-900",children:"Definition"}),(0,l.jsx)("input",{id:"definition",type:"text",name:"definition",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"definition",value:S,onChange:e=>T(e.target.value)})]}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("button",{type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center",children:"Submit changes"})})]})]})}},5502:(e,a,t)=>{t.d(a,{bA:()=>m,Rf:()=>p,Ek:()=>g,zj:()=>u,vy:()=>h,NB:()=>f});var r=t(5745),n=t(2481),s=t(5294),o=t(9085);const i=async function(e){const a={method:"POST",url:"https://microsoft-translator-text.p.rapidapi.com/translate",params:{"to[0]":arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en","api-version":"3.0"},headers:{"X-RapidAPI-Key":"32da4efdc7msh1edfa7d58e939cbp16f30fjsn436e11bb4d76"},data:[{Text:e}]};try{var t,r;const e=await(0,s.Z)(a);return null===e||void 0===e||null===(t=e.data[0])||void 0===t||null===(r=t.translations[0])||void 0===r?void 0:r.text.toLowerCase()}catch(n){return console.error("translateText",n),null}},l=async(e,a)=>{try{const t=await i(e,a);if(t===e)return o.Am.info("There is something wrong  in your text, it may be a typo or native and target languages are the same! \ud83c\udff3"),null;const r=await i(e),n=await(async e=>{try{var a,t,r;const n=await(0,s.Z)("".concat("https://api.unsplash.com","/search/photos?page=1&per_page=1&orientation=landscape&query=").concat(e,"&client_id=").concat("6EyRoATBcpWmJkTS4khOZ1RTxrmnbYFGBNdpq9ikI3I"));return(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(t=a.results[0])||void 0===t||null===(r=t.urls)||void 0===r?void 0:r.regular)||"https://i.ibb.co/2NVKDq2/1.png"}catch(n){return console.error("fetchUnsplashPhoto",n),"https://i.ibb.co/2NVKDq2/1.png"}})(r),{phonetic:l,audio:d,partOfSpeech:c,definition:u}=await(async e=>{let a={phonetic:"",audio:"",partOfSpeech:"",definition:""};if(/\s/g.test(e))return a;try{var t,r,n,o,i,l,d,c;const u=await(0,s.Z)("https://api.dictionaryapi.dev/api/v2/entries/en/".concat(e));return a={phonetic:null!==(t=null===u||void 0===u||null===(r=u.data.find((e=>void 0!==e.phonetic)))||void 0===r?void 0:r.phonetic)&&void 0!==t?t:"/".concat(e,"/"),audio:null!==(n=null===u||void 0===u||null===(o=u.data[0].phonetics.find((e=>""!==e.audio)))||void 0===o?void 0:o.audio)&&void 0!==n?n:"",partOfSpeech:null!==(i=null===u||void 0===u||null===(l=u.data[0].meanings[0])||void 0===l?void 0:l.partOfSpeech)&&void 0!==i?i:"",definition:null!==(d=null===u||void 0===u||null===(c=u.data[0].meanings[0])||void 0===c?void 0:c.definitions[0].definition)&&void 0!==d?d:""},a}catch(u){return console.log("getDetails",u),a}})(r);return{word:e,translation:t,phonetic:l,audio:d,partOfSpeech:c,definition:u,picture:n}}catch(t){console.error("fetchMultipleData",t)}};var d=t(7271);const c=r.g.injectEndpoints({endpoints:e=>({getFlashCards:e.query({queryFn:async()=>{try{const e=await(0,n.PL)((0,n.hJ)(d.r,"flashCards"));return{data:e.docs.map((e=>({id:e.id,...e.data()})))}}catch(e){return{error:e}}},providesTags:["FlashCards"]}),getSingleFlashCard:e.query({queryFn:async e=>{try{const a=(0,n.JU)(d.r,"flashCards",e);return{data:(await(0,n.QT)(a)).data()}}catch(a){return{error:a}}},providesTags:["FlashCards"]}),clearFlashCards:e.mutation({queryFn:async()=>{try{const e=(await(0,n.PL)((0,n.hJ)(d.r,"flashCards"))).docs.map((e=>(0,n.oe)(e.ref)));return await Promise.all(e),{data:"ok"}}catch(e){return{error:e}}},invalidatesTags:["FlashCards"]}),addFlashCard:e.mutation({queryFn:async e=>{let{trimmedWord:a,language:t}=e;try{const e=await l(a,t);if(!e)return{data:"ok"};const r=(0,n.JU)((0,n.hJ)(d.r,"flashCards"),Date.now().toString());return await(0,n.pl)(r,{...e}),{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCards"]}),deleteFlashCard:e.mutation({queryFn:async e=>{try{return await(0,n.oe)((0,n.JU)(d.r,"flashCards",e)),{data:"ok"}}catch(a){return{error:a}}},invalidatesTags:["FlashCards"]}),updateFlashCard:e.mutation({queryFn:async e=>{let{flashCardId:a,newData:t}=e;try{return await(0,n.r7)((0,n.JU)(d.r,"flashCards",a),{...t}),{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCards"]})})}),{useGetFlashCardsQuery:u,useGetSingleFlashCardQuery:h,useClearFlashCardsMutation:p,useAddFlashCardMutation:m,useDeleteFlashCardMutation:g,useUpdateFlashCardMutation:f}=c}}]);
//# sourceMappingURL=389.3949ba65.chunk.js.map