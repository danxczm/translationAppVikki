"use strict";(self.webpackChunkvikkiapp=self.webpackChunkvikkiapp||[]).push([[389],{7271:(a,e,t)=>{t.d(e,{r:()=>l});var r=t(4702),s=t(2481),n=t(276);const o=(0,r.ZF)({apiKey:"AIzaSyBokfEKThRRoikn0hd38SAjRlQSGIEZ6nU",authDomain:"vikkiapp-e25a8.firebaseapp.com",projectId:"vikkiapp-e25a8",storageBucket:"vikkiapp-e25a8.appspot.com",messagingSenderId:"514557526949",appId:"1:514557526949:web:fe891132e8517b27109e4c",measurementId:"G-0YX54ER1NZ"}),l=(0,s.ad)(o);(0,n.cF)(o)},7389:(a,e,t)=>{t.r(e),t.d(e,{default:()=>i});var r=t(2791),s=t(7689),n=t(1087),o=t(5502),l=t(1848),d=t(184);const i=()=>{const{flashCardId:a}=(0,s.UO)(),e=(0,s.s0)(),{data:{word:t="",translation:i="",picture:c=""}="",isLoading:u}=(0,o.vy)(null!==a&&void 0!==a?a:l.CN),[h,{isLoading:m}]=(0,o.NB)(),[p,g]=(0,r.useState)(t),[b,f]=(0,r.useState)(i),[y,v]=(0,r.useState)(c);(0,r.useEffect)((()=>{g(t),f(i),v(c)}),[t,i,c]);const x=[p,b,y].every(Boolean)&&!u;return(0,d.jsxs)("div",{children:[(0,d.jsx)(n.rU,{to:"/flashCards",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center mt-5",children:"Back"}),(0,d.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),x){const t={word:p,translation:b,picture:y};try{await h({flashCardId:a,newData:t}).unwrap(),m||e("/flashCards")}catch(r){console.log("Update flash card is failed: ",r)}}},className:"max-w-sm mx-auto m-10",children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"word",className:"block mb-2 text-sm font-medium text-gray-900",children:"Word that you are translating"}),(0,d.jsx)("input",{id:"word",type:"text",name:"word",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"word",value:p,onChange:a=>g(a.target.value),required:!0})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"translation",className:"block mb-2 text-sm font-medium text-gray-900",children:"Translation that you need"}),(0,d.jsx)("input",{id:"translation",type:"text",name:"translation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"translation",value:b,onChange:a=>f(a.target.value),required:!0})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"image",className:"block mb-2 text-sm font-medium text-gray-900",children:"Image that you need - link format"}),(0,d.jsx)("input",{id:"picture",type:"text",name:"image",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"image",value:y,onChange:a=>v(a.target.value),required:!0})]}),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("button",{type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center",children:"Submit changes"})})]})]})}},5502:(a,e,t)=>{t.d(e,{bA:()=>p,Rf:()=>m,Ek:()=>g,zj:()=>u,vy:()=>h,NB:()=>b});var r=t(5745),s=t(2481),n=t(5294);const o=async function(a){const e={method:"POST",url:"https://microsoft-translator-text.p.rapidapi.com/translate",params:{"to[0]":arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en","api-version":"3.0"},headers:{"X-RapidAPI-Key":"32da4efdc7msh1edfa7d58e939cbp16f30fjsn436e11bb4d76"},data:[{Text:a}]};try{var t,r;const a=await(0,n.Z)(e);return null===a||void 0===a||null===(t=a.data[0])||void 0===t||null===(r=t.translations[0])||void 0===r?void 0:r.text}catch(s){return console.error("translateText",s),null}},l=async(a,e)=>{try{const t=await o(a,e),r=await o(a),s=await(async a=>{try{var e,t,r;const s=await(0,n.Z)("".concat("https://api.unsplash.com","/search/photos?page=1&per_page=1&orientation=landscape&query=").concat(a,"&client_id=").concat("6EyRoATBcpWmJkTS4khOZ1RTxrmnbYFGBNdpq9ikI3I"));return(null===s||void 0===s||null===(e=s.data)||void 0===e||null===(t=e.results[0])||void 0===t||null===(r=t.urls)||void 0===r?void 0:r.regular)||"https://i.ibb.co/2NVKDq2/1.png"}catch(s){return console.error("fetchUnsplashPhoto",s),"https://i.ibb.co/2NVKDq2/1.png"}})(r);return{word:a,translation:t,picture:s}}catch(t){console.error("fetchMultipleData",t)}};var d=t(7271),i=t(9085);const c=r.g.injectEndpoints({endpoints:a=>({getFlashCards:a.query({queryFn:async()=>{try{const a=await(0,s.PL)((0,s.hJ)(d.r,"flashCards"));return{data:a.docs.map((a=>({id:a.id,...a.data()})))}}catch(a){return{error:a}}},providesTags:["FlashCards"]}),getSingleFlashCard:a.query({queryFn:async a=>{try{const e=(0,s.JU)(d.r,"flashCards",a);return{data:(await(0,s.QT)(e)).data()}}catch(e){return{error:e}}},providesTags:["FlashCards"]}),clearFlashCards:a.mutation({queryFn:async()=>{try{const a=(await(0,s.PL)((0,s.hJ)(d.r,"flashCards"))).docs.map((a=>(0,s.oe)(a.ref)));return await Promise.all(a),{data:"ok"}}catch(a){return{error:a}}},invalidatesTags:["FlashCards"]}),addFlashCard:a.mutation({queryFn:async a=>{let{searchWord:e,language:t,languageFullName:r}=a;try{const a=await l(e,t),{translation:n,word:o}=a;if(n.toLowerCase()===o.toLowerCase())return i.Am.error("You can't translate ".concat(r," to ").concat(r,"! Click the checkbox to select a language for translation!"));const c=(0,s.JU)((0,s.hJ)(d.r,"flashCards"),Date.now().toString());return await(0,s.pl)(c,{...a}),{data:"ok"}}catch(n){return{error:n}}},invalidatesTags:["FlashCards"]}),deleteFlashCard:a.mutation({queryFn:async a=>{try{return await(0,s.oe)((0,s.JU)(d.r,"flashCards",a)),{data:"ok"}}catch(e){return{error:e}}},invalidatesTags:["FlashCards"]}),updateFlashCard:a.mutation({queryFn:async a=>{let{flashCardId:e,newData:t}=a;try{return await(0,s.r7)((0,s.JU)(d.r,"flashCards",e),{...t}),{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCards"]})})}),{useGetFlashCardsQuery:u,useGetSingleFlashCardQuery:h,useClearFlashCardsMutation:m,useAddFlashCardMutation:p,useDeleteFlashCardMutation:g,useUpdateFlashCardMutation:b}=c}}]);
//# sourceMappingURL=389.757b3976.chunk.js.map