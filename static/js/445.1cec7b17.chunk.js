"use strict";(self.webpackChunkvikkiapp=self.webpackChunkvikkiapp||[]).push([[445],{7271:(e,t,a)=>{a.d(t,{r:()=>n});var r=a(4702),i=a(2481),o=a(276);const s=(0,r.ZF)({apiKey:"AIzaSyBokfEKThRRoikn0hd38SAjRlQSGIEZ6nU",authDomain:"vikkiapp-e25a8.firebaseapp.com",projectId:"vikkiapp-e25a8",storageBucket:"vikkiapp-e25a8.appspot.com",messagingSenderId:"514557526949",appId:"1:514557526949:web:fe891132e8517b27109e4c",measurementId:"G-0YX54ER1NZ"}),n=(0,i.ad)(s);(0,o.cF)(s)},4445:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var r=a(2791),i=a(5502),o=a(1087),s=a(3034),n=a(5748),l=a(9129),d=a(8820),c=a(1545),u=a(3342),h=a(184);const p=e=>{var t;let{card:a}=e;const[r,{isLoading:p,isSuccess:m}]=(0,i.Ek)();return(0,h.jsxs)("li",{className:"relative overflow-hidden transition duration-200 rounded-lg group hover:shadow-xl hover:shadow-blue-600",children:[(p||m)&&(0,h.jsx)("div",{className:"absolute z-10 transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2",children:(0,h.jsx)(n._P,{visible:!0,height:"240",width:"240",color:"white",ariaLabel:"rings-loading"})}),(0,h.jsxs)("div",{className:"".concat((p||m)&&"blur-sm"),children:[(0,h.jsx)("img",{loading:"lazy",className:"relative object-cover w-full transition duration-200 rounded aspect-square group-hover:scale-110 ",src:null===a||void 0===a?void 0:a.picture,alt:null===a||void 0===a?void 0:a.word}),(0,h.jsx)("button",{type:"button",onClick:()=>{(async e=>{try{await r(e).unwrap()}catch(t){console.log("Failed to delete the card: ",t)}})(null===a||void 0===a?void 0:a.id)},className:"absolute flex items-center justify-center w-5 h-5 transition-opacity bg-white rounded-md opacity-0 top-2 right-2 group-hover:opacity-100",children:(0,h.jsx)(d.VPh,{})}),(0,h.jsx)(o.rU,{className:"absolute flex items-center justify-center w-5 h-5 transition-opacity bg-white rounded-md opacity-0 top-2 left-2 group-hover:opacity-100",to:"edit/".concat(a.id),children:(0,h.jsx)(d.$iz,{})}),(0,h.jsxs)("div",{className:"absolute bottom-0 w-full px-4 py-3 bg-gray-500/50 h-36",children:[(0,h.jsxs)("div",{className:"relative flex",children:[(0,h.jsx)("div",{onClick:()=>(0,u.T)(null===a||void 0===a?void 0:a.word),children:(0,h.jsx)(s.o_,{className:"p-1 text-2xl font-semibold text-white cursor-pointer bg-gradient-to-r from-teal-400/50 to-blue-500/20",title:"Click to copy.",mode:"box",minFontSizePx:"24",maxFontSizePx:"24",children:null===a||void 0===a?void 0:a.word})}),(0,h.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://dictionary.cambridge.org/dictionary/english/".concat(a.word),className:"absolute right-0 flex items-center justify-center p-1 transition-opacity rounded-md opacity-0 cursor-pointer group-hover:opacity-100 top-8 hover:bg-blue-300",children:(0,h.jsx)(l.Qa$,{size:"20px",color:"white"})}),(0,h.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.google.com.ua/search?q=".concat(a.word),className:"cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-md flex items-center justify-center absolute right-0 top-1.5 hover:bg-blue-300",children:(0,h.jsx)(c.iQh,{size:"20px",color:"white"})})]}),(0,h.jsx)("div",{children:(0,h.jsx)(s.o_,{className:"mt-1 leading-6 text-gray-200",mode:"multiline",minFontSizePx:"24",maxFontSizePx:"24",children:null===a||void 0===a||null===(t=a.translation)||void 0===t?void 0:t.toLowerCase()})})]})]})]},null===a||void 0===a?void 0:a.id)};var m=a(1830),g=a.n(m),x=a(9085),v=a(8617),f=a(7117);const b=e=>{let{flashCards:t,sortHandler:a,flashCardsLoading:r}=e;const[o,{isLoading:s}]=(0,i.Rf)(),[n]=(0,f.Jf)();return(0,h.jsxs)("div",{className:"flex items-center ml-auto py-2",children:[(0,h.jsxs)("p",{className:"inline-flex items-center px-5 py-2.5 text-xl font-semibold text-center cursor-default",children:["Total:",(0,h.jsx)("span",{className:"inline-flex items-center justify-center w-12 h-8 ms-2 text-l font-semibold text-blue-800 bg-blue-200 rounded-full",children:r?(0,h.jsx)(d.Z7b,{size:"15px",color:"blue",className:"text-white animate-spin"}):null===t||void 0===t?void 0:t.length})]}),(0,h.jsxs)("div",{className:"ml-auto flex items-center justify-center bg-blue-600 rounded-md",children:[(0,h.jsxs)("div",{className:"group relative",children:[(0,h.jsx)("button",{type:"button",disabled:0===(null===t||void 0===t?void 0:t.length),onClick:async e=>{const{value:a}=await g().fire({title:"How you want to name this collection?",input:"text",inputAttributes:{maxlength:"10",autocapitalize:"off",autocorrect:"off",required:"true"},showCancelButton:!0,inputValidator:e=>{if(!e)return"You need to write something!"}});if(a)try{await n({flashCards:t,collectionName:a}).unwrap(),x.Am.success("New collection is added!")}catch(r){console.log("addCollectionFireBaseError: ",r)}},title:"Save collection.",className:"items-center justify-center p-3 bg-blue-600 hover:bg-blue-700 text-white text-xl font-medium rounded-l-md disabled:bg-gray-300 disabled:cursor-not-allowed",children:(0,h.jsx)(v.i2Q,{size:"20px"})}),(0,h.jsx)("div",{className:"p-1 bg-gray-500 rounded mt-1 invisible group-hover:visible absolute z-10",children:(0,h.jsx)("p",{className:"text-white text-center text-xs",children:"Save collection."})})]}),(0,h.jsxs)("div",{className:"group relative",children:[(0,h.jsx)("button",{type:"button",disabled:0===(null===t||void 0===t?void 0:t.length),onClick:()=>a((e=>!e)),title:"Sort collection from A-Z.",className:"items-center justify-center p-3 bg-blue-600 hover:bg-blue-700 text-white text-xl font-medium disabled:bg-gray-300  disabled:cursor-not-allowed",children:(0,h.jsx)(v.eeW,{size:"20px"})}),(0,h.jsx)("div",{className:"p-1 bg-gray-500 rounded mt-1 invisible group-hover:visible absolute z-10",children:(0,h.jsx)("p",{className:"text-white text-center text-xs",children:"Sort collection."})})]}),(0,h.jsxs)("div",{className:"group relative",children:[s?(0,h.jsx)("button",{disabled:!0,type:"button",className:"items-center justify-center p-3 bg-blue-600 text-white rounded-r-md  disabled:cursor-not-allowed",children:(0,h.jsx)(d.Z7b,{size:"20px",className:"text-white animate-spin"})}):(0,h.jsx)("button",{type:"button",disabled:0===(null===t||void 0===t?void 0:t.length),onClick:async e=>{if((await g().fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Yes, clear the collection!",cancelButtonText:"No, cancel!"})).value)try{await o().unwrap()}catch(t){console.log("Error when deleting flash cards: ",t)}},title:"Clear collection.",className:"items-center justify-center p-3 bg-blue-600 hover:bg-blue-700 text-white text-xl font-medium rounded-r-md disabled:bg-gray-300  disabled:cursor-not-allowed",children:(0,h.jsx)(v.Bhs,{size:"20px"})}),(0,h.jsx)("div",{className:"p-1 bg-gray-500 rounded mt-1 invisible group-hover:visible absolute z-10",children:(0,h.jsx)("p",{className:"text-white text-center text-xs",children:"Clear collection."})})]})]})]})};var y=a(4488);const w=()=>{const[e,t]=(0,r.useState)(!1),{data:a,isLoading:o,isSuccess:s,isError:n,error:l}=(0,i.zj)(),d=(0,r.useRef)(),c=(0,r.useMemo)((()=>{const t=null===a||void 0===a?void 0:a.slice();return e?t.sort(((e,t)=>e.word.localeCompare(t.word))):a}),[a,e]);let u;return s?u=null===c||void 0===c?void 0:c.map((e=>(0,h.jsx)(p,{card:e},e.id))):n&&(u=(0,h.jsx)("p",{children:l})),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(b,{flashCards:c,sortHandler:e=>{t(e)},flashCardsLoading:o}),(0,h.jsx)("div",{ref:d,children:0===(null===c||void 0===c?void 0:c.length)?(0,h.jsx)("h1",{className:"p-5 text-4xl font-extrabold text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-purple-800",children:"You haven't added any words yet"}):(0,h.jsx)("ul",{className:"grid xl:grid-cols-4 md:grid-cols-4 sm:grid-cols-3 grid-cols-2 gap-4 place-items-center",children:u})}),(0,h.jsx)(y.Z,{flashCardsData:c,componentRef:d})]})},j=[{language:"uk",icon:"\ud83c\uddfa\ud83c\udde6",fullName:"Ukrainian"},{language:"en",icon:"\ud83c\uddec\ud83c\udde7",fullName:"English"},{language:"ru",icon:"\ud83e\ude86",fullName:"hru-hru"},{language:"ko",icon:"\ud83c\uddf0\ud83c\uddf7",fullName:"Korean"},{language:"es",icon:"\ud83c\uddea\ud83c\uddf8",fullName:"Spanish"}],C=()=>{const[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),[s,n]=(0,r.useState)(JSON.parse(localStorage.getItem("languageTranslation"))||{language:"uk",icon:"\ud83c\uddfa\ud83c\udde6",fullName:"Ukrainian"});(0,r.useEffect)((()=>{localStorage.setItem("languageTranslation",JSON.stringify(s))}),[s]);const[l,{isLoading:c}]=(0,i.bA)();return(0,h.jsxs)("div",{className:"flex justify-between py-3",children:[(0,h.jsxs)("div",{className:"relative w-32 rounded",children:[(0,h.jsx)("div",{onClick:()=>o(!a),className:"flex items-center justify-center px-5 text-6xl rounded-md cursor-pointer hover:bg-blue-600 hover:text-white",children:s.icon}),a&&(0,h.jsx)("ul",{className:"absolute z-50 bg-white",children:j.filter((e=>e.language!==s.language)).map((e=>(0,h.jsx)("li",{className:"flex items-center justify-center text-6xl rounded-md cursor-pointer px-7 hover:bg-blue-600 hover:text-white",onClick:()=>{e.language!==s.language&&n(e),o(!1)},children:e.icon},e.language)))})]}),(0,h.jsxs)("form",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"default-search",className:"mb-2 text-sm font-medium text-gray-900 sr-only",children:"Search"}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("div",{className:"absolute inset-y-0 flex items-center pointer-events-none start-0 ps-3",children:(0,h.jsx)(v.O6C,{size:"20px"})}),(0,h.jsx)("input",{autoFocus:!0,autoComplete:"off",value:e,disabled:c,onChange:e=>{t(e.target.value)},type:"search",id:"default-search",className:"block w-full p-4 text-xl text-gray-900 ps-10 focus:outline-none disabled:bg-inherit",placeholder:"Translate into ".concat(s.fullName),required:!0}),c?(0,h.jsxs)("button",{disabled:!0,type:"button",className:"text-white absolute end-0 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 text-center inline-flex items-center w-[132px] h-[44px]",children:[(0,h.jsx)(d.Z7b,{className:"inline w-4 h-4 text-white me-3 animate-spin"}),"Loading..."]}):(0,h.jsx)("button",{disabled:!e,onClick:async a=>{a.preventDefault();const r=e.trim();try{l({trimmedWord:r,language:s.language,languageFullName:s.fullName}).unwrap(),t("")}catch(i){console.error("Error fetching data:",i)}},className:"text-white absolute end-0 bottom-2.5 bg-blue-700 hover:bg-blue-800 disabled:bg-gray-300 disabled:cursor-not-allowed focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-2xl w-[132px] h-[44px]",children:"Add"})]})]})]})},N=()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C,{}),(0,h.jsx)(w,{})]})},4488:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(7692),i=a(1146),o=a.n(i),s=a(184);const n=e=>{let{flashCardsData:t,componentRef:a}=e;return(0,s.jsx)(o(),{trigger:()=>0!==(null===t||void 0===t?void 0:t.length)&&void 0!==t?(0,s.jsx)("div",{className:"sticky flex items-center justify-center w-40 mx-auto mt-10 bottom-5",children:(0,s.jsxs)("button",{className:"flex px-4 py-2 text-sm font-medium text-gray-800 bg-gray-200 rounded-md hover:bg-gray-300",children:[(0,s.jsx)(r.jC8,{size:"20px",className:"mr-2"}),(0,s.jsx)("p",{className:"font-semibold",children:"Save as PDF"})]})}):(0,s.jsx)(s.Fragment,{}),content:()=>a.current})}},5502:(e,t,a)=>{a.d(t,{bA:()=>m,Rf:()=>p,Ek:()=>g,zj:()=>u,vy:()=>h,NB:()=>x});var r=a(5745),i=a(2481),o=a(5294),s=a(9085);const n=async function(e){const t={method:"POST",url:"https://microsoft-translator-text.p.rapidapi.com/translate",params:{"to[0]":arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en","api-version":"3.0"},headers:{"X-RapidAPI-Key":"32da4efdc7msh1edfa7d58e939cbp16f30fjsn436e11bb4d76"},data:[{Text:e}]};try{var a,r;const e=await(0,o.Z)(t);return null===e||void 0===e||null===(a=e.data[0])||void 0===a||null===(r=a.translations[0])||void 0===r?void 0:r.text.toLowerCase()}catch(i){return console.error("translateText",i),null}},l=async(e,t)=>{try{const a=await n(e,t);if(a===e)return s.Am.info("There is something wrong  in your text, it may be a typo or native and target languages are the same! \ud83c\udff3"),null;const r=await n(e),i=await(async e=>{try{var t,a,r;const i=await(0,o.Z)("".concat("https://api.unsplash.com","/search/photos?page=1&per_page=1&orientation=landscape&query=").concat(e,"&client_id=").concat("6EyRoATBcpWmJkTS4khOZ1RTxrmnbYFGBNdpq9ikI3I"));return(null===i||void 0===i||null===(t=i.data)||void 0===t||null===(a=t.results[0])||void 0===a||null===(r=a.urls)||void 0===r?void 0:r.regular)||"https://i.ibb.co/2NVKDq2/1.png"}catch(i){return console.error("fetchUnsplashPhoto",i),"https://i.ibb.co/2NVKDq2/1.png"}})(r),{phonetic:l,audio:d,partOfSpeech:c,definition:u}=await(async e=>{let t={phonetic:"",audio:"",partOfSpeech:"",definition:""};if(/\s/g.test(e))return t;try{var a,r,i,s,n,l,d,c;const u=await(0,o.Z)("https://api.dictionaryapi.dev/api/v2/entries/en/".concat(e));return t={phonetic:null!==(a=null===u||void 0===u||null===(r=u.data.find((e=>void 0!==e.phonetic)))||void 0===r?void 0:r.phonetic)&&void 0!==a?a:"/".concat(e,"/"),audio:null!==(i=null===u||void 0===u||null===(s=u.data[0].phonetics.find((e=>""!==e.audio)))||void 0===s?void 0:s.audio)&&void 0!==i?i:"",partOfSpeech:null!==(n=null===u||void 0===u||null===(l=u.data[0].meanings[0])||void 0===l?void 0:l.partOfSpeech)&&void 0!==n?n:"",definition:null!==(d=null===u||void 0===u||null===(c=u.data[0].meanings[0])||void 0===c?void 0:c.definitions[0].definition)&&void 0!==d?d:""},t}catch(u){return console.log("getDetails",u),t}})(r);return{word:e,translation:a,phonetic:l,audio:d,partOfSpeech:c,definition:u,picture:i}}catch(a){console.error("fetchMultipleData",a)}};var d=a(7271);const c=r.g.injectEndpoints({endpoints:e=>({getFlashCards:e.query({queryFn:async()=>{try{const e=await(0,i.PL)((0,i.hJ)(d.r,"flashCards"));return{data:e.docs.map((e=>({id:e.id,...e.data()})))}}catch(e){return{error:e}}},providesTags:["FlashCards"]}),getSingleFlashCard:e.query({queryFn:async e=>{try{const t=(0,i.JU)(d.r,"flashCards",e);return{data:(await(0,i.QT)(t)).data()}}catch(t){return{error:t}}},providesTags:["FlashCards"]}),clearFlashCards:e.mutation({queryFn:async()=>{try{const e=(await(0,i.PL)((0,i.hJ)(d.r,"flashCards"))).docs.map((e=>(0,i.oe)(e.ref)));return await Promise.all(e),{data:"ok"}}catch(e){return{error:e}}},invalidatesTags:["FlashCards"]}),addFlashCard:e.mutation({queryFn:async e=>{let{trimmedWord:t,language:a}=e;try{const e=await l(t,a);if(!e)return{data:"ok"};const r=(0,i.JU)((0,i.hJ)(d.r,"flashCards"),Date.now().toString());return await(0,i.pl)(r,{...e}),{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCards"]}),deleteFlashCard:e.mutation({queryFn:async e=>{try{return await(0,i.oe)((0,i.JU)(d.r,"flashCards",e)),{data:"ok"}}catch(t){return{error:t}}},invalidatesTags:["FlashCards"]}),updateFlashCard:e.mutation({queryFn:async e=>{let{flashCardId:t,newData:a}=e;try{return await(0,i.r7)((0,i.JU)(d.r,"flashCards",t),{...a}),{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCards"]})})}),{useGetFlashCardsQuery:u,useGetSingleFlashCardQuery:h,useClearFlashCardsMutation:p,useAddFlashCardMutation:m,useDeleteFlashCardMutation:g,useUpdateFlashCardMutation:x}=c},7117:(e,t,a)=>{a.d(t,{Jf:()=>l,Mo:()=>d,nE:()=>n,ql:()=>c});var r=a(5745),i=a(7271),o=a(2481);const s=r.g.injectEndpoints({endpoints:e=>({getFlashCardsCollection:e.query({queryFn:async()=>{try{const e=await(0,o.PL)((0,o.hJ)(i.r,"flashCardsCollection"));return{data:e.docs.map((e=>({id:e.id,...e.data()})))}}catch(e){return{error:e}}},providesTags:["FlashCardCollection"]}),createFlashCardsColletion:e.mutation({queryFn:async e=>{let{flashCards:t,collectionName:a}=e;try{const e=await(0,o.JU)((0,o.hJ)(i.r,"flashCardsCollection"),Date.now().toString());return(0,o.pl)(e,{...t,collectionName:a}),console.log("Collection written with ID: ",e.id),{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCardCollection"]}),deleteFlashCardsColletion:e.mutation({queryFn:async e=>{try{const t=(0,o.JU)(i.r,"flashCardsCollection",e);return await(0,o.oe)(t),{data:"ok"}}catch(t){return{error:t}}},invalidatesTags:["FlashCardCollection"]}),printFlashCardsCollection:e.mutation({async queryFn(e){let{data:t,index:a}=e;try{const e=Object.values(t[a]);for(const t of e){if("string"===typeof t)continue;const{id:e,...a}=t,r=(0,o.JU)((0,o.hJ)(i.r,"flashCards"),Date.now().toString());await(0,o.pl)(r,a)}return{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCards"]})})}),{useGetFlashCardsCollectionQuery:n,useCreateFlashCardsColletionMutation:l,useDeleteFlashCardsColletionMutation:d,usePrintFlashCardsCollectionMutation:c}=s},3342:(e,t,a)=>{a.d(t,{T:()=>o});var r=a(9085);const i={position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"},o=async e=>(r.Am.success("The word is copied!",i),"clipboard"in navigator?await navigator.clipboard.writeText(e):document.execCommand("copy",!0,e))}}]);
//# sourceMappingURL=445.1cec7b17.chunk.js.map