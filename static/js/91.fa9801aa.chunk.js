"use strict";(self.webpackChunkvikkiapp=self.webpackChunkvikkiapp||[]).push([[91],{7271:(e,t,a)=>{a.d(t,{r:()=>n});var r=a(4702),s=a(2481),l=a(276);const o=(0,r.ZF)({apiKey:"AIzaSyBokfEKThRRoikn0hd38SAjRlQSGIEZ6nU",authDomain:"vikkiapp-e25a8.firebaseapp.com",projectId:"vikkiapp-e25a8",storageBucket:"vikkiapp-e25a8.appspot.com",messagingSenderId:"514557526949",appId:"1:514557526949:web:fe891132e8517b27109e4c",measurementId:"G-0YX54ER1NZ"}),n=(0,s.ad)(o);(0,l.cF)(o)},7091:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var r=a(2791),s=a(7692),l=a(1146),o=a.n(l),n=a(5502),i=a(8617),c=a(8820),d=a(184);const u=()=>{const[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)(!1),[l,o]=(0,r.useState)({language:"uk",icon:"\ud83c\uddfa\ud83c\udde6",fullName:"Ukrainian"}),[u,{isLoading:h}]=(0,n.bA)();return(0,d.jsxs)("div",{className:"flex justify-between py-3",children:[(0,d.jsxs)("div",{className:"w-32 rounded relative",children:[(0,d.jsx)("div",{onClick:()=>s(!a),className:"px-5 rounded-md text-6xl hover:bg-blue-600 hover:text-white flex justify-center items-center cursor-pointer",children:l.icon}),a&&(0,d.jsx)("ul",{className:"bg-white absolute z-50",children:[{language:"uk",icon:"\ud83c\uddfa\ud83c\udde6",fullName:"Ukrainian"},{language:"en",icon:"\ud83c\uddec\ud83c\udde7",fullName:"English"},{language:"ru",icon:"\ud83e\ude86",fullName:"hru-hru"},{language:"ko",icon:"\ud83c\uddf0\ud83c\uddf7",fullName:"Korean"},{language:"es",icon:"\ud83c\uddea\ud83c\uddf8",fullName:"Spanish"}].filter((e=>e.language!==l.language)).map((e=>(0,d.jsx)("li",{className:"flex justify-center items-center px-7 rounded-md text-6xl hover:bg-blue-600 hover:text-white cursor-pointer",onClick:()=>{e.language!==l.language&&o(e),s(!1)},children:e.icon},e.language)))})]}),(0,d.jsxs)("form",{className:"w-full",children:[(0,d.jsx)("label",{htmlFor:"default-search",className:"mb-2 text-sm font-medium text-gray-900 sr-only",children:"Search"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:(0,d.jsx)(i.O6C,{size:"20px"})}),(0,d.jsx)("input",{autoFocus:!0,autoComplete:"off",value:e,disabled:h,onChange:e=>{t(e.target.value)},type:"search",id:"default-search",className:"block w-full p-4 ps-10 text-xl text-gray-900 focus:outline-none disabled:bg-inherit",placeholder:"Translate into ".concat(l.fullName),required:!0}),h?(0,d.jsxs)("button",{disabled:!0,type:"button",className:"text-white absolute end-0 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 text-center inline-flex items-center w-[132px] h-[44px]",children:[(0,d.jsx)(c.Z7b,{className:"inline w-4 h-4 me-3 text-white animate-spin"}),"Loading..."]}):(0,d.jsx)("button",{disabled:!e,onClick:async a=>{a.preventDefault();try{u({searchWord:e,language:l.language,languageFullName:l.fullName}).unwrap(),t("")}catch(r){console.error("Error fetching data:",r)}},className:"text-white absolute end-0 bottom-2.5 bg-blue-700 hover:bg-blue-800 disabled:bg-gray-300 disabled:cursor-not-allowed focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-2xl w-[132px] h-[44px]",children:"Add"})]})]})]})};var h=a(1087),g=a(9129),p=a(1545),m=a(9085);const x={position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"};var b=a(5748);const v=e=>{var t;let{card:a}=e;const[r,{isLoading:s,isSuccess:l}]=(0,n.Ek)();return(0,d.jsxs)("li",{className:"relative group overflow-hidden rounded-lg transition duration-200 hover:shadow-xl hover:shadow-blue-600",children:[(s||l)&&(0,d.jsx)("div",{className:"absolute z-10 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,d.jsx)(b._P,{visible:!0,height:"240",width:"240",color:"white",ariaLabel:"rings-loading"})}),(0,d.jsxs)("div",{className:"".concat((s||l)&&"blur-sm"),children:[(0,d.jsx)("img",{loading:"lazy",className:"rounded relative w-full object-cover aspect-square transition duration-200 group-hover:scale-110 ",src:null===a||void 0===a?void 0:a.picture,alt:null===a||void 0===a?void 0:a.word}),(0,d.jsx)("button",{type:"button",onClick:()=>{(async e=>{try{await r(e).unwrap()}catch(t){console.log("Failed to delete the card: ",t)}})(null===a||void 0===a?void 0:a.id)},className:"h-5 w-5 bg-white absolute top-2 right-2 rounded-md flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,d.jsx)(c.VPh,{})}),(0,d.jsx)(h.rU,{className:"h-5 w-5 bg-white absolute top-2 left-2 flex items-center justify-center rounded-md opacity-0 group-hover:opacity-100 transition-opacity",to:"edit/".concat(a.id),children:(0,d.jsx)(c.$iz,{})}),(0,d.jsxs)("div",{className:"absolute bottom-0 px-4 py-3 bg-gray-500/50 w-full h-36",children:[(0,d.jsxs)("div",{className:"relative flex",children:[(0,d.jsx)("h1",{onClick:()=>(async e=>(m.Am.success("The word is copied!",x),"clipboard"in navigator?await navigator.clipboard.writeText(e):document.execCommand("copy",!0,e)))(null===a||void 0===a?void 0:a.word),title:"Click to copy.",className:"cursor-pointer p-1 text-white bg-gradient-to-r from-teal-400/50 to-blue-500/20 font-semibold text-xl",children:null===a||void 0===a?void 0:a.word}),(0,d.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://dictionary.cambridge.org/dictionary/english/".concat(a.word),className:"cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-md flex items-center justify-center absolute right-0 top-8 hover:bg-blue-300",children:(0,d.jsx)(g.Qa$,{size:"20px",color:"white"})}),(0,d.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.google.com.ua/search?q=".concat(a.word),className:"cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-md flex items-center justify-center absolute right-0 top-1.5 hover:bg-blue-300",children:(0,d.jsx)(p.iQh,{size:"20px",color:"white"})})]}),(0,d.jsx)("p",{className:"text-gray-200 text-2xl mt-3 leading-6\t",children:null===a||void 0===a||null===(t=a.translation)||void 0===t?void 0:t.toLowerCase()})]})]})]},null===a||void 0===a?void 0:a.id)};var f=a(1830),y=a.n(f),w=a(7117);const j=e=>{let{flashCards:t,sortHandler:a,flashCardsLoading:r}=e;const[s,{isLoading:l}]=(0,n.Rf)(),[o]=(0,w.Jf)();return(0,d.jsxs)("div",{className:"flex items-center ml-auto py-2",children:[(0,d.jsxs)("p",{className:"inline-flex items-center px-5 py-2.5 text-xl font-semibold text-center cursor-default",children:["Total:",(0,d.jsx)("span",{className:"inline-flex items-center justify-center w-12 h-8 ms-2 text-l font-semibold text-blue-800 bg-blue-200 rounded-full",children:r?(0,d.jsx)(c.Z7b,{size:"15px",color:"blue",className:"text-white animate-spin"}):null===t||void 0===t?void 0:t.length})]}),(0,d.jsxs)("div",{className:"ml-auto flex items-center justify-center bg-blue-600 rounded-md",children:[(0,d.jsxs)("div",{className:"group relative",children:[(0,d.jsx)("button",{type:"button",disabled:0===(null===t||void 0===t?void 0:t.length),onClick:async e=>{const{value:a}=await y().fire({title:"How you want to name this collection?",input:"text",inputAttributes:{maxlength:"10",autocapitalize:"off",autocorrect:"off",required:"true"},showCancelButton:!0,inputValidator:e=>{if(!e)return"You need to write something!"}});if(a)try{await o({flashCards:t,collectionName:a}).unwrap(),m.Am.success("New collection is added!")}catch(r){console.log("addCollectionFireBaseError: ",r)}},title:"Save collection.",className:"items-center justify-center p-3 bg-blue-600 hover:bg-blue-700 text-white text-xl font-medium rounded-l-md disabled:bg-gray-300 disabled:cursor-not-allowed",children:(0,d.jsx)(i.i2Q,{size:"20px"})}),(0,d.jsx)("div",{className:"p-1 bg-gray-500 rounded mt-1 invisible group-hover:visible absolute z-10",children:(0,d.jsx)("p",{className:"text-white text-center text-xs",children:"Save collection."})})]}),(0,d.jsxs)("div",{className:"group relative",children:[(0,d.jsx)("button",{type:"button",disabled:0===(null===t||void 0===t?void 0:t.length),onClick:()=>a((e=>!e)),title:"Sort collection from A-Z.",className:"items-center justify-center p-3 bg-blue-600 hover:bg-blue-700 text-white text-xl font-medium disabled:bg-gray-300  disabled:cursor-not-allowed",children:(0,d.jsx)(i.eeW,{size:"20px"})}),(0,d.jsx)("div",{className:"p-1 bg-gray-500 rounded mt-1 invisible group-hover:visible absolute z-10",children:(0,d.jsx)("p",{className:"text-white text-center text-xs",children:"Sort collection."})})]}),(0,d.jsxs)("div",{className:"group relative",children:[l?(0,d.jsx)("button",{disabled:!0,type:"button",className:"items-center justify-center p-3 bg-blue-600 text-white rounded-r-md  disabled:cursor-not-allowed",children:(0,d.jsx)(c.Z7b,{size:"20px",className:"text-white animate-spin"})}):(0,d.jsx)("button",{type:"button",disabled:0===(null===t||void 0===t?void 0:t.length),onClick:async e=>{if((await y().fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Yes, clear the collection!",cancelButtonText:"No, cancel!"})).value)try{await s().unwrap()}catch(t){console.log("Error when deleting flash cards: ",t)}},title:"Clear collection.",className:"items-center justify-center p-3 bg-blue-600 hover:bg-blue-700 text-white text-xl font-medium rounded-r-md disabled:bg-gray-300  disabled:cursor-not-allowed",children:(0,d.jsx)(i.Bhs,{size:"20px"})}),(0,d.jsx)("div",{className:"p-1 bg-gray-500 rounded mt-1 invisible group-hover:visible absolute z-10",children:(0,d.jsx)("p",{className:"text-white text-center text-xs",children:"Clear collection."})})]})]})]})},C=()=>{const[e,t]=(0,r.useState)(!1),{data:a,isLoading:l,isSuccess:i,isError:c,error:u}=(0,n.zj)(),h=(0,r.useRef)(),g=(0,r.useMemo)((()=>{const t=null===a||void 0===a?void 0:a.slice();return e?t.sort(((e,t)=>e.word.localeCompare(t.word))):a}),[a,e]);let p;return i?p=null===g||void 0===g?void 0:g.map((e=>(0,d.jsx)(v,{card:e},e.id))):c&&(p=(0,d.jsx)("p",{children:u})),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j,{flashCards:g,sortHandler:e=>{t(e)},flashCardsLoading:l}),(0,d.jsx)("div",{ref:h,children:0===(null===g||void 0===g?void 0:g.length)?(0,d.jsx)("h1",{className:"p-5 text-center font-extrabold text-transparent text-4xl bg-clip-text bg-gradient-to-r from-blue-200 to-purple-800",children:"You haven't added any words yet"}):(0,d.jsx)("ul",{className:"grid xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-4 place-items-center",children:p})}),(0,d.jsx)(o(),{trigger:()=>0!==(null===g||void 0===g?void 0:g.length)&&void 0!==g?(0,d.jsx)("div",{className:"flex items-center justify-center mt-5 sticky bottom-5",children:(0,d.jsxs)("button",{className:"inline-flex items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 text-sm font-medium rounded-md",children:[(0,d.jsx)(s.jC8,{size:"20px",className:"mr-2"}),(0,d.jsx)("p",{className:"font-semibold",children:"Save as PDF"})]})}):(0,d.jsx)(d.Fragment,{}),content:()=>h.current})]})},N=()=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u,{}),(0,d.jsx)(C,{})]})},5502:(e,t,a)=>{a.d(t,{bA:()=>p,Rf:()=>g,Ek:()=>m,zj:()=>u,vy:()=>h,NB:()=>x});var r=a(5745),s=a(2481),l=a(5294);const o=async function(e){const t={method:"POST",url:"https://microsoft-translator-text.p.rapidapi.com/translate",params:{"to[0]":arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en","api-version":"3.0"},headers:{"X-RapidAPI-Key":"32da4efdc7msh1edfa7d58e939cbp16f30fjsn436e11bb4d76"},data:[{Text:e}]};try{var a,r;const e=await(0,l.Z)(t);return null===e||void 0===e||null===(a=e.data[0])||void 0===a||null===(r=a.translations[0])||void 0===r?void 0:r.text}catch(s){return console.error("translateText",s),null}},n=async(e,t)=>{try{const a=await o(e,t),r=await o(e),s=await(async e=>{try{var t,a,r;const s=await(0,l.Z)("".concat("https://api.unsplash.com","/search/photos?page=1&per_page=1&orientation=landscape&query=").concat(e,"&client_id=").concat("6EyRoATBcpWmJkTS4khOZ1RTxrmnbYFGBNdpq9ikI3I"));return(null===s||void 0===s||null===(t=s.data)||void 0===t||null===(a=t.results[0])||void 0===a||null===(r=a.urls)||void 0===r?void 0:r.regular)||"https://i.ibb.co/2NVKDq2/1.png"}catch(s){return console.error("fetchUnsplashPhoto",s),"https://i.ibb.co/2NVKDq2/1.png"}})(r);return{word:e,translation:a,picture:s}}catch(a){console.error("fetchMultipleData",a)}};var i=a(7271),c=a(9085);const d=r.g.injectEndpoints({endpoints:e=>({getFlashCards:e.query({queryFn:async()=>{try{const e=await(0,s.PL)((0,s.hJ)(i.r,"flashCards"));return{data:e.docs.map((e=>({id:e.id,...e.data()})))}}catch(e){return{error:e}}},providesTags:["FlashCards"]}),getSingleFlashCard:e.query({queryFn:async e=>{try{const t=(0,s.JU)(i.r,"flashCards",e);return{data:(await(0,s.QT)(t)).data()}}catch(t){return{error:t}}},providesTags:["FlashCards"]}),clearFlashCards:e.mutation({queryFn:async()=>{try{const e=(await(0,s.PL)((0,s.hJ)(i.r,"flashCards"))).docs.map((e=>(0,s.oe)(e.ref)));return await Promise.all(e),{data:"ok"}}catch(e){return{error:e}}},invalidatesTags:["FlashCards"]}),addFlashCard:e.mutation({queryFn:async e=>{let{searchWord:t,language:a,languageFullName:r}=e;try{const e=await n(t,a),{translation:l,word:o}=e;if(l.toLowerCase()===o.toLowerCase())return c.Am.error("You can't translate ".concat(r," to ").concat(r,"! Click the checkbox to select a language for translation!"));const d=(0,s.JU)((0,s.hJ)(i.r,"flashCards"),Date.now().toString());return await(0,s.pl)(d,{...e}),{data:"ok"}}catch(l){return{error:l}}},invalidatesTags:["FlashCards"]}),deleteFlashCard:e.mutation({queryFn:async e=>{try{return await(0,s.oe)((0,s.JU)(i.r,"flashCards",e)),{data:"ok"}}catch(t){return{error:t}}},invalidatesTags:["FlashCards"]}),updateFlashCard:e.mutation({queryFn:async e=>{let{flashCardId:t,newData:a}=e;try{return await(0,s.r7)((0,s.JU)(i.r,"flashCards",t),{...a}),{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCards"]})})}),{useGetFlashCardsQuery:u,useGetSingleFlashCardQuery:h,useClearFlashCardsMutation:g,useAddFlashCardMutation:p,useDeleteFlashCardMutation:m,useUpdateFlashCardMutation:x}=d},7117:(e,t,a)=>{a.d(t,{Jf:()=>i,Mo:()=>c,nE:()=>n,ql:()=>d});var r=a(5745),s=a(7271),l=a(2481);const o=r.g.injectEndpoints({endpoints:e=>({getFlashCardsCollection:e.query({queryFn:async()=>{try{const e=await(0,l.PL)((0,l.hJ)(s.r,"flashCardsCollection"));return{data:e.docs.map((e=>({id:e.id,...e.data()})))}}catch(e){return{error:e}}},providesTags:["FlashCardCollection"]}),createFlashCardsColletion:e.mutation({queryFn:async e=>{let{flashCards:t,collectionName:a}=e;try{const e=await(0,l.JU)((0,l.hJ)(s.r,"flashCardsCollection"),Date.now().toString());return(0,l.pl)(e,{...t,collectionName:a}),console.log("Collection written with ID: ",e.id),{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCardCollection"]}),deleteFlashCardsColletion:e.mutation({queryFn:async e=>{try{const t=(0,l.JU)(s.r,"flashCardsCollection",e);return await(0,l.oe)(t),{data:"ok"}}catch(t){return{error:t}}},invalidatesTags:["FlashCardCollection"]}),printFlashCardsCollection:e.mutation({async queryFn(e){let{data:t,index:a}=e;try{const e=Object.values(t[a]);for(const t of e){if("string"===typeof t)continue;const{id:e,...a}=t,r=(0,l.JU)((0,l.hJ)(s.r,"flashCards"),Date.now().toString());await(0,l.pl)(r,a)}return{data:"ok"}}catch(r){return{error:r}}},invalidatesTags:["FlashCards"]})})}),{useGetFlashCardsCollectionQuery:n,useCreateFlashCardsColletionMutation:i,useDeleteFlashCardsColletionMutation:c,usePrintFlashCardsCollectionMutation:d}=o}}]);
//# sourceMappingURL=91.fa9801aa.chunk.js.map